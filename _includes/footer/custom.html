<!-- start custom footer snippets -->



<script>
    document.addEventListener('DOMContentLoaded', () => {

        // Catch every â€œemailâ€ link we just added
        const trigger = document.querySelector('a[href="#no-email-popup"]');
        if (!trigger) return;

        trigger.addEventListener('click', ev => {
            ev.preventDefault();                 // stop "#" from scrolling to top

            Swal.fire({
                title: 'E-mail retired ðŸ“­',
                html: `
        My public inbox turned into a spam playground,<br>
        so I removed the address.<br><br>
        ðŸ‘‰ <strong>DM me on
        <a href="https://www.linkedin.com/in/mohammadmahdijavid/"
           target="_blank" rel="noopener">LinkedIn</a></strong>
        (or any social link below) â€” I reply much faster there!`,
                icon: 'info',
                confirmButtonText: 'Sounds good!'
            });
        });

    });
</script>









<!-- Flow-chart runtime (â‰ˆ 100 kB gzipped total) -->
<!-- 1- Dagre core -->
<script src="https://unpkg.com/dagre@0.8.5/dist/dagre.min.js"></script>

<!-- 2- Cytoscape core -->
<script src="https://unpkg.com/cytoscape@3/dist/cytoscape.min.js"></script>

<!-- 3- Dagre layout extension -->
<script src="https://unpkg.com/cytoscape-dagre@2/cytoscape-dagre.js"></script>

<script>
    // Needed only when you load the libs yourself (not via a bundler)
    cytoscape.use(cytoscapeDagre);
</script>

<script>
    function fitNodes(cy, nodesColl, pad = 40) {
        cy.fit(nodesColl, pad);
        cy.center(nodesColl);
    }

    const isPhone = () => matchMedia('(max-width: 640px)').matches;

    /* === graph data ======================================================= */
    const nodes = [
        { id: 'A', label: 'Feeling bored?', group: 'start' },
        { id: 'B', label: 'Pick an activity', group: 'decision' },

        { id: 'C', label: 'ðŸŽ¬ Stream a movie\nor binge a series' },
        { id: 'D', label: 'ðŸœ Grab a bite\nsomewhere tasty' },
        { id: 'E', label: 'ðŸŒ³ Stroll by the river\n(unless â˜€ï¸ > 30 Â°C)' },
        { id: 'F', label: 'ðŸ‘· Build that project\nyou keep delaying' },
        { id: 'G', label: 'ðŸ“Š Discuss investments,\nscience, politics' },
        { id: 'H', label: 'ðŸ—£ï¸ Learn a new language\nor culture quirk' },
        { id: 'I', label: 'ðŸ˜¢ Expectations check', group: 'decision' },
        { id: 'J', label: 'ðŸ™‚ Iâ€™ll listen,\nbut keep expectations low' },
        { id: 'K', label: 'ðŸš€ Learn something brand-new\ntogether' },
    ];

    const edges = [
        ['A', 'B'],
        ['B', 'C', 'ðŸŽ¬ Movies / Series'],
        ['B', 'D', 'ðŸ£ Food outing'],
        ['B', 'E', 'ðŸš¶ Talk & Walk'],
        ['B', 'F', 'ðŸ§© Puzzle / DIY'],
        ['B', 'G', 'ðŸ§  Deep Talks'],
        ['B', 'H', 'ðŸŒ Language / Culture'],
        ['B', 'I', 'ðŸ˜¢ Need to vent?'],
        ['B', 'K', 'ðŸ’¡ Challenge yourself'],
        ['I', 'J', 'Sure'],
        ['I', 'B', 'Skip'],
    ];

    /* === boot Cytoscape =================================================== */
    // Wait until *everything* (CSS + scripts) has loaded
    window.addEventListener('load', () => {
        const cy = cytoscape({
            container: document.getElementById('hobbies-flowchart'),
            elements: [
                ...nodes.map(n => ({ data: n })),
                ...edges.map(([s, t, l]) => ({ data: { source: s, target: t, label: l } }))
            ],
            style: [
                /* generic nodes --------------------------------------------------- */
                {
                    selector: 'node',
                    style: {
                        shape: 'round-rectangle',
                        padding: '12px',
                        'background-color': '#F1F5F9', /* slate-100 */
                        'border-color': '#64748B',     /* slate-500 */
                        'border-width': 2,
                        'text-wrap': 'wrap',
                        'text-max-width': 200,         /* â† wider text box   */
                        'font-family': 'PT Sans Narrow, sans-serif',
                        'font-size': 16,
                        'text-valign': 'center',
                        'text-halign': 'center',
                        label: 'data(label)',
                        width: 'label',
                        height: 'label',
                        'text-max-width': 150,
                    }
                },
                /* start/terminal --------------------------------------------------- */
                {
                    selector: 'node[group = "start"]',
                    style: {
                        'background-color': '#BAE6FD',  // sky-100
                    }
                },
                /* diamond decisions ------------------------------------------------ */
                {
                    selector: 'node[group = "decision"]',
                    style: {
                        shape: 'diamond',
                        'background-color': '#FDE68A',  // amber-100
                    }
                },
                /* edges and their pretty labels ------------------------------------ */
                {
                    selector: 'edge',
                    style: {
                        width: 2,
                        'line-color': '#64748B',
                        'target-arrow-shape': 'triangle',
                        'target-arrow-color': '#64748B',
                        'curve-style': 'bezier',
                        label: 'data(label)',
                        'font-size': 14,
                        'text-rotation': 'autorotate',
                        'text-background-color': '#fff',
                        'text-background-opacity': 1,
                        'text-background-padding': 2,
                        'text-background-shape': 'round-rectangle'
                    }
                }
            ],
            layout: {
                name: 'dagre',
                rankDir: 'TB',     /* top-to-bottom */
                nodeSep: 60,
                rankSep: 120,
                padding: 10,
                animate: true,
                animationDuration: 600
            }
        });

        cy.ready(() => {
            if (isPhone()) {
                const focus = cy.$('#A, #B');
                fitNodes(cy, focus, 60);

                cy.style()
                    .selector('node')
                    .style('font-size', 22)
                    .selector('edge')
                    .style('font-size', 18)
                    .update();
            } else {
                /* non-phone = keep the original â€œfit whole graphâ€ */
                cy.fit(undefined, 40);
            }
        });

        window.addEventListener('resize', () => {
            cy.resize();
            if (isPhone()) {
                const focus = cy.$('#A, #B');
                fitNodes(cy, focus, 60);
            } else {
                cy.fit(undefined, 40);
            }
        });

        /* cute hover pulse ---------------------------------------------------- */
        cy.nodes().forEach(n => n.on('mouseover', () => {
            n.animate({ style: { 'border-width': 4 } }, { duration: 150 });
        }));

        cy.nodes().forEach(n => n.on('mouseout', () => {
            n.animate({ style: { 'border-width': 2 } }, { duration: 150 });
        }));

        cy.on('mouseover', 'node', e =>
            e.target.animate({ style: { 'border-width': 4 } }, { duration: 150 })
        );
        cy.on('mouseout', 'node', e =>
            e.target.animate({ style: { 'border-width': 2 } }, { duration: 150 })
        );

        cy.on('layoutstop', () => {
            if (isPhone()) {
                const focus = cy.$('#A, #B');
                fitNodes(cy, focus, 60);

                cy.style()
                    .selector('node').style('font-size', 22)
                    .selector('edge').style('font-size', 18)
                    .update();
            } else {
                cy.fit(undefined, 40);
            }
        });
    });

</script>


<script>
    (function () {
        const css = `
            #hobbies-flowchart,
            #hobbies-flowchart canvas { cursor: grab; }

            #hobbies-flowchart.grabbing,
            #hobbies-flowchart.grabbing canvas { cursor: grabbing; }
        `;
        const styleTag = document.createElement('style');
        styleTag.appendChild(document.createTextNode(css));
        document.head.appendChild(styleTag);

        const fc = document.getElementById('hobbies-flowchart');

        fc.addEventListener('mousedown', ev => {
            if (ev.button === 0) fc.classList.add('grabbing');
        });
        window.addEventListener('mouseup', () => fc.classList.remove('grabbing'));

        const s = document.createElement('style');
        s.textContent = 'html,body{overflow-x:hidden}';
        document.head.appendChild(s);
    })();
</script>


<!-- end custom footer snippets -->